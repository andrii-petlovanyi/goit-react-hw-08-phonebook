"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[870],{9845:function(e,n,t){t.d(n,{xG:function(){return C},$D:function(){return de},cF:function(){return ce},t:function(){return N},CR:function(){return A},v4:function(){return T},Py:function(){return V},wn:function(){return H},$_:function(){return Y},Y0:function(){return le},ko:function(){return se},nn:function(){return D},l2:function(){return Q},$0:function(){return oe},VJ:function(){return xe},IV:function(){return te},Ie:function(){return J}});var r,i,o,a=t(5266),s=t(410),l=t(9712),c=t(5777),d=t(2791),u=t(5048),x=t(7689),h=t(1087),f=t(9708),p=t(4289),g=t(3541),m=t(168),j=t(225),v=(0,j.Z)(l.rU)(r||(r=(0,m.Z)(["\n  font-size: 18px;\n  font-weight: 700;\n\n  &.active {\n    color: ",";\n  }\n"])),(function(e){return(0,s.ff)("#553C9A","#e2e2e2")})),b=(0,j.Z)(l.rU)(i||(i=(0,m.Z)(["\n  overflow-wrap: break-word;\n  font-size: 32px;\n  font-weight: 700;\n\n  &.active {\n    color: ",";\n    transform: scale(1.2) translateX(10px);\n  }\n"])),(function(e){return(0,s.ff)("#553C9A","#e2e2e2")})),y=(0,j.Z)(l.rU)(o||(o=(0,m.Z)(["\n  font-weight: 700;\n  font-size: 24px;\n\n  &:hover {\n    text-decoration: none;\n  }\n"]))),k=t(3329),C=function(){var e=(0,x.s0)(),n=(0,u.I0)(),t=(0,u.v9)(p.Z.getUserToken),r=(0,a.Sx)({base:!1,lg:!0}),i=(0,s.ff)("whiteBG","darkBG"),o=(0,s.ff)("hoverWhite","hoverBlack"),m=(0,f.GR)(t,{skip:null===t}).data;(0,d.useEffect)((function(){m&&n((0,g.bi)(m))}),[m]);var j=(0,f.GR)().isLoading,v=(0,u.v9)(p.Z.getIsLoggedIn);return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(l.xu,{as:"header",maxWidth:"1200px",width:"100%",height:"80px",display:"flex",justifyContent:"space-between",mx:"auto",py:"20px",px:"15px",children:[(0,k.jsx)(y,{as:h.rU,to:"/",children:"PhoneBook"}),v&&!j&&(0,k.jsx)(k.Fragment,{children:r?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Q,{}),(0,k.jsx)(J,{})]}):(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(te,{}),(0,k.jsx)(D,{})]})}),!v&&!j&&(0,k.jsx)(k.Fragment,{children:r?(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(te,{}),(0,k.jsx)(c.zx,{onClick:function(){e("/login")},"aria-label":"Sign in",size:"md",bg:i,_active:!0,_hover:{background:o},children:"Sign in"})]}):(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(te,{}),(0,k.jsx)(D,{})]})})]})})},w=t(4165),z=t(5861),B=t(9439),_=t(1197),Z=t(4684),I=t(1490),W=t(2157),G=t(8699),L=t(3853),S=t(6856),F=t.p+"static/media/userAvatar.c0307ea68a6119f96b35.jpg",D=function(){var e=(0,_.qY)(),n=e.isOpen,t=e.onOpen,r=e.onClose,i=(0,u.v9)(p.Z.getUserName),o=(0,u.v9)(p.Z.getUserEmail),a=(0,u.v9)(p.Z.getIsLoggedIn),m=(0,u.v9)(p.Z.getUserToken),j=(0,f.d3)(),v=(0,B.Z)(j,1)[0],y=(0,u.I0)(),C=(0,Z.pm)(),D=(0,x.s0)(),U=(0,d.useRef)(),E=(0,s.ff)("mainWhite","mainDark"),O=(0,s.ff)("purple.100","teal.900"),R=(0,s.ff)("#2e2e2e","mainWhite"),N=(0,s.ff)("#2e2e2e","teal.600"),P=(0,s.ff)("hoverWhite","hoverBlack"),A=(0,s.ff)("whiteBG","darkBG"),M=function(){var e=(0,z.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(m);case 2:n=e.sent,r(),y((0,g.ni)(n)),C({description:"Goodbye, ".concat(i),isClosable:!0,status:"success",duration:2e3});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){setTimeout(r,200)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(de,{children:(0,k.jsx)(c.hU,{size:"md",onClick:function(){t()},variant:"ghost",color:"white",bg:(0,s.ff)("whiteBG","darkBG"),_active:!0,_hover:{background:P},icon:(0,k.jsx)(L.cur,{fontSize:"1.25rem"}),"aria-label":"Open Menu"})}),(0,k.jsxs)(I.dy,{onClose:r,initialFocusRef:U,isOpen:n,size:"full",children:[(0,k.jsx)(I.P1,{}),(0,k.jsxs)(I.sc,{bg:E,children:[(0,k.jsxs)(I.OX,{display:"flex",justifyContent:"space-between",px:"15px",py:"20px",children:[(0,k.jsx)(l.X6,{size:"lg",color:N,children:"PhoneBook"}),(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",children:[(0,k.jsx)(te,{}),(0,k.jsx)(de,{children:(0,k.jsx)(c.hU,{onClick:r,ref:U,variant:"ghost",color:"white",bg:(0,s.ff)("whiteBG","darkBG"),_active:!0,_hover:{background:P},icon:(0,k.jsx)(G.Tw,{fontSize:"0.9rem"}),"aria-label":"Close Menu"})})]})]}),(0,k.jsx)(I.Ng,{display:"flex",children:a&&(0,k.jsx)(l.xu,{as:"nav",my:"auto",ml:"auto",mr:"20%",display:"flex",gap:"25px",flexDirection:"column",alignItems:"flex-end",children:[{name:"Home",link:"/"},{name:"Contacts",link:"/contacts"},{name:"Add contacts",link:"/add"}].map((function(e){var n=e.name,t=e.link;return(0,k.jsx)(b,{onClick:T,as:h.OL,to:t,children:n},n)}))})}),(0,k.jsx)(oe,{delay:.4,mx:"auto",children:(0,k.jsx)(I.ze,{mb:"50px",children:a?(0,k.jsxs)(l.xu,{position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:"20px",maxW:"300px",width:"100%",mx:"auto",gap:"10px",size:"lg",backgroundColor:O,borderRadius:"20px",children:[(0,k.jsx)(c.hU,{position:"absolute",top:"0",right:"0",onClick:M,color:"white",bg:"red.600",size:"md",_active:!0,_hover:{background:"red.700"},icon:(0,k.jsx)(S.IUz,{fontSize:"1.5rem"}),"aria-label":"Logout"}),(0,k.jsx)(W.qE,{mt:"-55px",size:"lg",src:F}),(0,k.jsx)(l.xv,{color:R,fontWeight:"600",children:i}),(0,k.jsx)(l.xv,{color:R,fontWeight:"600",children:o})]}):(0,k.jsxs)(l.xu,{mx:"auto",display:"flex",flexDirection:"column",gap:"20px",children:[(0,k.jsx)(l.xv,{fontSize:"20px",children:"Please, sign in..."}),(0,k.jsx)(de,{children:(0,k.jsx)(c.zx,{width:"100%",onClick:function(){r(),D("/login")},"aria-label":"Login",bg:A,_active:!0,_hover:{background:P},size:"lg",children:"Sign In"})}),(0,k.jsx)(l.xv,{fontSize:"18px",fontWeight:"700",mx:"auto",children:"or"}),(0,k.jsx)(de,{children:(0,k.jsx)(c.zx,{width:"100%",onClick:function(){r(),D("/register")},"aria-label":"Login",bg:A,_active:!0,_hover:{background:P},size:"lg",children:"Sign up"})})]})})})]})]})]})},U=t(5863),E=t(824),O=t(9894),R=t(9676),N=function(){var e=(0,Z.pm)(),n=function(){var e=(0,d.useRef)(null);return[e,function(){e.current&&e.current.focus()}]}(),t=(0,B.Z)(n,2),r=t[0],i=t[1],o=(0,R.wf)(),a=(0,B.Z)(o,2),u=a[0],x=a[1].isLoading,h=(0,R.wY)().data,f=(0,s.ff)("purple.600","btnOutlineBG"),p=(0,s.ff)("purple.600","darkBG"),g=(0,s.ff)("hoverWhite","hoverBlack");return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.xu,{maxW:"450px",w:"100%",mx:"auto",children:(0,k.jsx)("form",{onSubmit:function(n){n.preventDefault();var t=n.target,r=n.target.elements.name.value.trim(),o=n.target.elements.number.value.trim();if(h.find((function(e){return e.name.toLowerCase()===r.toLowerCase()})))return t.reset(),e({description:"".concat(r," is already in contacts"),isClosable:!0,status:"error"});u({name:r,number:o}),e({description:"".concat(r," has been added to the contacts list"),isClosable:!0,status:"success"}),t.reset(),i()},children:(0,k.jsxs)(U.NI,{display:"flex",flexDirection:"column",gap:"20px",isRequired:!0,children:[(0,k.jsxs)(E.BZ,{size:"lg",children:[(0,k.jsx)(E.Z8,{pointerEvents:"none",children:(0,k.jsx)(O.JO,{color:f,boxSize:"6",as:S.sdR})}),(0,k.jsx)(E.II,{ref:r,name:"name",placeholder:"Name",_placeholder:{opacity:.6,color:f},focusBorderColor:f,type:"text"})]}),(0,k.jsxs)(E.BZ,{size:"lg",children:[(0,k.jsx)(E.Z8,{pointerEvents:"none",children:(0,k.jsx)(G.qW,{color:f})}),(0,k.jsx)(E.II,{type:"tel",name:"number",_placeholder:{opacity:.6,color:f},focusBorderColor:f,placeholder:"Phone number"})]}),(0,k.jsx)(de,{children:(0,k.jsx)(c.zx,{isLoading:!!x,width:"100%",color:"mainWhite",bg:p,_active:{background:p},_hover:{background:g},size:"md",mt:"20px",type:"submit",children:"Add"})})]})})})})},P={getFilterValue:function(e){return e.filter}},A=function(){var e,n=(0,R.wY)().data,t=(0,u.v9)(P.getFilterValue);return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.MI,{spacing:4,templateColumns:"repeat(auto-fill, minmax(300px, 1fr))",children:null===(e=function(){var e=t.toLowerCase();if(n)return Object.values(n).filter((function(n){return n.name.toLowerCase().includes(e)})).reverse()}())||void 0===e?void 0:e.map((function(e){return(0,k.jsx)(T,{contact:e},e.id)}))})})},M=t(3635),T=function(e){var n=e.contact,t=void 0===n?[]:n,r=(0,Z.pm)(),i=(0,R.Nt)(),o=(0,B.Z)(i,2),a=o[0],d=o[1].isLoading,u=t.id,x=t.name,h=t.number,f=(0,s.ff)("purple.600","btnOutlineBG"),p=(0,s.ff)("hoverWhite","hoverBlack"),g=(0,s.ff)("purple.600","darkBG"),m=(0,s.ff)("lightBtnBGWhite","lightBtnBGDark");return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(ce,{children:(0,k.jsx)(M.Zb,{borderRadius:"10px",width:"100%",children:(0,k.jsx)(M.eW,{children:(0,k.jsxs)(l.kC,{spacing:"4",children:[(0,k.jsxs)(l.kC,{flex:"1",gap:"5",alignItems:"center",flexWrap:"wrap",children:[(0,k.jsx)(l.xu,{width:"55px",height:"55px",borderRadius:"50%",color:"mainWhite",bg:g,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"22px",children:x.charAt(0)}),(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",flexDirection:"column",children:[(0,k.jsx)(l.X6,{size:"sm",children:x}),(0,k.jsx)(l.xv,{children:h})]})]}),(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",flexDirection:"column",children:[(0,k.jsx)(de,{children:(0,k.jsx)(c.hU,{onClick:function(){return a(u),r({description:"".concat(x," has been deleted!"),isClosable:!0,status:"success"})},variant:"outline",isLoading:!!d,color:f,bg:"none",borderColor:f,_active:{color:f,borderColor:f},_hover:{color:p,background:m,borderColor:p},"aria-label":"Delete contact",size:"md",fontSize:"20px",icon:(0,k.jsx)(S.F1H,{})})}),(0,k.jsx)(V,{contact:t})]})]})})})})})},V=function(e){var n=e.contact,t=void 0===n?{}:n,r=(0,Z.pm)(),i=(0,_.qY)(),o=i.isOpen,a=i.onOpen,l=i.onClose,d=(0,R.wY)().data,u=(0,R.mG)(),x=(0,B.Z)(u,2),h=x[0],f=x[1].isLoading,p=(0,s.ff)("purple.600","btnOutlineBG"),g=(0,s.ff)("purple.600","darkBG"),m=(0,s.ff)("hoverWhite","hoverBlack"),j=(0,s.ff)("lightBtnBGWhite","lightBtnBGDark");return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(de,{children:(0,k.jsx)(c.hU,{onClick:a,variant:"outline",isLoading:!!f,bg:"none",color:p,borderColor:p,_active:{color:p,borderColor:p},_hover:{color:m,background:j,borderColor:m},"aria-label":"Edit contact",size:"md",fontSize:"20px",icon:(0,k.jsx)(S.U$P,{bg:p})})}),(0,k.jsxs)(I.u_,{onClose:l,isOpen:o,isCentered:!0,children:[(0,k.jsx)(I.ZA,{}),(0,k.jsxs)(I.hz,{py:"20px",children:[(0,k.jsx)(I.xB,{children:"Edit contacts"}),(0,k.jsx)(I.ol,{}),(0,k.jsx)(I.fe,{children:(0,k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.name.value.trim(),i=e.target.number.value.trim();if(""!==n&&""!==i){var o={name:n,number:i};if(d.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return r({description:"".concat(n," is already in contacts"),isClosable:!0,status:"error"});h({contactId:t.id,patchedContacts:o}),l(),r({description:"Contact ".concat(n," updated successfully"),isClosable:!0,status:"success"})}},children:[(0,k.jsx)(U.NI,{children:(0,k.jsxs)(E.BZ,{size:"lg",children:[(0,k.jsx)(E.Z8,{pointerEvents:"none",children:(0,k.jsx)(O.JO,{color:p,boxSize:"6",as:S.sdR})}),(0,k.jsx)(E.II,{type:"text",name:"name",id:"contact_email",defaultValue:t.name,placeholder:"Name",_placeholder:{opacity:.6,color:p},focusBorderColor:p})]})}),(0,k.jsx)(U.NI,{my:4,children:(0,k.jsxs)(E.BZ,{size:"lg",children:[(0,k.jsx)(E.Z8,{pointerEvents:"none",children:(0,k.jsx)(G.qW,{color:p})}),(0,k.jsx)(E.II,{type:"tel",name:"number",id:"contact_email",defaultValue:t.number,_placeholder:{opacity:.6,color:p},focusBorderColor:p,placeholder:"Phone number"})]})}),(0,k.jsx)(de,{children:(0,k.jsx)(c.zx,{isLoading:!!f,width:"100%",mt:4,type:"submit","aria-label":"Save contacts",color:"mainWhite",bg:g,_active:{background:g},_hover:{background:m},size:"md",children:"Save"})})]})})]})]})]})},q=t(1634),H=function(){var e=(0,u.I0)(),n=(0,u.v9)(P.getFilterValue),t=(0,s.ff)("purple.600","btnOutlineBG"),r=(0,s.ff)("purple.300","teal.900");return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(l.xu,{my:"20px",mx:"auto",maxW:"700px",children:(0,k.jsx)("form",{children:(0,k.jsxs)(E.BZ,{size:"lg",children:[(0,k.jsx)(E.Z8,{pointerEvents:"none",children:(0,k.jsx)(G.GV,{color:t})}),(0,k.jsx)(E.II,{value:n,onChange:function(n){var t=n.target.value;e((0,q.T)(t))},type:"text",borderColor:r,_hover:{borderColor:r},focusBorderColor:t,_placeholder:{opacity:.6,color:t},placeholder:"Search contacts..."})]})})})})},Y=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(oe,{delay:.4,children:(0,k.jsxs)(l.xu,{as:"footer",maxWidth:"1200px",width:"100%",mx:"auto",px:"15px",height:"60px",display:"flex",gap:"20px",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(l.iz,{maxW:"80%"}),(0,k.jsx)(l.xv,{children:"\xa9 2022 | Petlovanyi A."})]})})})},X=t(1498),$=t(7817),J=function(){var e=(0,Z.pm)(),n=(0,x.s0)(),t=(0,u.I0)(),r=(0,u.v9)(p.Z.getUserName),i=(0,u.v9)(p.Z.getUserToken),o=(0,u.v9)(p.Z.getUserEmail),a=(0,f.d3)(),d=(0,B.Z)(a,1)[0],h=function(){var o=(0,z.Z)((0,w.Z)().mark((function o(){var a;return(0,w.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,d(i);case 2:a=o.sent,t((0,g.ni)(a)),e({description:"Goodbye, ".concat(r),isClosable:!0,status:"success",duration:2e3}),n("/login");case 6:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(l.Eq,{children:[(0,k.jsx)(X.u,{label:o,"aria-label":"user email",closeDelay:500,hasArrow:!0,arrowSize:15,children:(0,k.jsxs)($.Vp,{display:"flex",gap:"10px",size:"lg",backgroundColor:(0,s.ff)("purple.100","teal.900"),borderRadius:"full",children:[(0,k.jsx)(W.qE,{size:"sm",src:F,children:(0,k.jsx)(W.MX,{boxSize:"1.25em",bg:"green.500"})}),(0,k.jsx)($.Sn,{color:(0,s.ff)("#2e2e2e","mainWhite"),fontWeight:"600",children:r})]})}),(0,k.jsx)(l.M5,{height:"auto",children:(0,k.jsx)(l.iz,{opacity:"0.5",width:"1px",fontWeight:"700",mx:"15px",orientation:"vertical",size:"lg"})}),(0,k.jsxs)(l.xu,{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(te,{}),(0,k.jsx)(de,{children:(0,k.jsx)(c.zx,{onClick:h,"aria-label":"Logout",bg:(0,s.ff)("whiteBG","darkBG"),_active:!0,_hover:{background:(0,s.ff)("hoverWhite","hoverBlack")},size:"md",children:"Logout"})})]})]})})},K=t(8342),Q=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(K.aG,{display:"flex",gap:"15px",alignItems:"center",children:[{name:"Home",link:"/"},{name:"Contacts",link:"/contacts"},{name:"Add contacts",link:"/add"}].map((function(e){var n=e.name,t=e.link;return(0,k.jsx)(K.gN,{children:(0,k.jsx)(v,{as:h.OL,to:t,children:n})},n)}))})})},ee=t(4549),ne=t(2296),te=function(){var e=(0,s.If)(),n=e.colorMode,t=e.toggleColorMode,r="light"===n;return(0,k.jsx)(ee.M,{initial:!1,mode:"wait",children:(0,k.jsx)(ne.E.div,{style:{display:"inline-block"},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:(0,k.jsx)(c.hU,{"aria-label":"Toggle theme",onClick:t,fontSize:"20px",icon:(0,s.ff)((0,k.jsx)(G.kL,{}),(0,k.jsx)(G.NW,{})),color:(0,s.ff)("white","white"),bg:(0,s.ff)("whiteBG","darkBG"),_active:!0,_hover:{background:(0,s.ff)("hoverWhite","hoverBlack")},children:r?"Dark":"Light"})},(0,s.ff)("Light","Dark"))})},re=t(4113),ie=(0,re.m$)(ne.E.div,{shouldForwardProp:function(e){return(0,re.x9)(e)||"transition"===e}}),oe=function(e){var n=e.children,t=e.delay,r=void 0===t?0:t;return(0,k.jsx)(ie,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:r},mb:6,children:n})},ae=t(9382),se=function(){return(0,k.jsx)(l.xu,{maxW:"400px",width:"100%",mx:["auto","auto",0],mt:"50px",fontSize:["18px","19px","20px"],fontWeight:"700",letterSpacing:".2 rem",lineHeight:"2",fontFamily:"PT Mono",color:(0,s.ff)("purple.600","teal.400"),children:(0,k.jsx)(ae.Z,{options:{loop:!0},getBeforeInit:function(e){return e.pause(1500).type("Hey hey!!!").pause(750).delete(2).pause(300).delete(1).pause(200).type("..!").pause(300).type(" Grogu is very happy to see you, and wants to presents PhoneBook App from planet Mandalore.").pause(500).delete(1).pause(200).type("..!").pause(300).type(" Don`t wait! Let`s try this piece of she*").pause(300).delete(4).type("galaxy...").pause(300).delete(3).type("!!! ").pause(2e3),e}})})},le=function(e){var n=e.children;return(0,k.jsx)(ne.E.div,{animate:{translateY:[0,20,0,-20,0]},transition:{duration:2,ease:"linear",times:[0,.25,.5,.75,1],repeat:1/0},children:n})},ce=function(e){var n=e.children;return(0,k.jsx)(ne.E.div,{whileHover:{scale:[null,1.01,1.02]},transition:{duration:.3},children:n})},de=function(e){var n=e.children;return(0,k.jsx)(ne.E.div,{width:"100%",whileTap:{scale:.9},children:n})},ue=t(6400),xe=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(l.xu,{padding:"4",boxShadow:"lg",borderRadius:"10px",bg:(0,s.ff)("white","#2D3748"),children:[(0,k.jsx)(ue.s7,{size:"6"}),(0,k.jsx)(ue.N2,{mt:"4",noOfLines:3,spacing:"4",skeletonHeight:"2"})]})})}}}]);
//# sourceMappingURL=870.a0493486.chunk.js.map