"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[537],{6641:function(e,n,r){r.d(n,{C:function(){return o}});var t=r(9712),i=r(2370),s=r(3329),o=function(e){var n=e.contacts,r=void 0===n?[]:n;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(t.MI,{spacing:4,templateColumns:"repeat(auto-fill, minmax(300px, 1fr))",children:r.map((function(e){return(0,s.jsx)(i.v4,{contact:e},e.id)}))})})}},2190:function(e,n,r){r.d(n,{w:function(){return u}});var t=r(8699),i=r(9712),s=r(824),o=r(5048),c=r(8805),a=r(1634),l=r(3329),u=function(){var e=(0,o.I0)(),n=(0,o.v9)(c.Z.getFilterValue);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.xu,{my:"20px",mx:"auto",maxW:"700px",children:(0,l.jsx)("form",{children:(0,l.jsxs)(s.BZ,{size:"lg",children:[(0,l.jsx)(s.Z8,{pointerEvents:"none",children:(0,l.jsx)(t.GV,{color:"purple.600"})}),(0,l.jsx)(s.II,{value:n,onChange:function(n){var r=n.target.value;e((0,a.T)(r))},type:"text",focusBorderColor:"purple.600",_placeholder:{opacity:.6,color:"purple.800"},placeholder:"Search contacts..."})]})})})})}},6852:function(e,n,r){r.d(n,{V:function(){return o}});var t=r(9712),i=r(825),s=r(3329),o=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(t.xu,{padding:"3",boxShadow:"lg",bg:"white",children:[(0,s.jsx)(i.s7,{size:"6"}),(0,s.jsx)(i.N2,{mt:"4",noOfLines:2,spacing:"4",skeletonHeight:"2"})]})})}},2370:function(e,n,r){r.d(n,{xG:function(){return v},t:function(){return k},v4:function(){return L},Py:function(){return B},$_:function(){return E},l2:function(){return P},VJ:function(){return N.V},Ie:function(){return A}});var t,i,s=r(9712),o=r(5777),c=r(2791),a=r(5048),l=r(7689),u=r(1087),x=r(9708),d=r(4289),p=r(3541),h=r(168),m=r(225),f=(0,m.Z)(s.rU)(t||(t=(0,h.Z)(["\n  font-size: 18px;\n  font-weight: 700;\n\n  &.active {\n    color: #682687;\n  }\n"]))),j=(0,m.Z)(s.rU)(i||(i=(0,h.Z)(["\n  font-weight: 700;\n  font-size: 24px;\n\n  &:hover {\n    text-decoration: none;\n  }\n"]))),g=r(3329),v=function(){var e=(0,l.s0)(),n=(0,a.I0)(),r=(0,a.v9)(d.Z.getUserToken),t=(0,x.GR)(r,{skip:null===r}).data;(0,c.useEffect)((function(){t&&n((0,p.bi)(t))}),[t]);var i=(0,x.GR)().isLoading,h=(0,a.v9)(d.Z.getIsLoggedIn);return(0,g.jsx)(g.Fragment,{children:!i&&(0,g.jsxs)(s.xu,{as:"header",maxWidth:"1200px",width:"100%",display:"flex",justifyContent:"space-between",mx:"auto",px:"10px",py:"15px",children:[(0,g.jsx)(j,{as:u.rU,to:"/",children:"PhoneBook"}),h?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(P,{}),(0,g.jsx)(A,{})]}):(0,g.jsx)(o.zx,{onClick:function(){e("/login")},"aria-label":"Sign in",colorScheme:"purple",size:"md",children:"Sign in"})]})})},b=r(9439),C=r(8699),y=r(7322),z=r(4684),Z=r(5863),w=r(824),I=r(9894),S=r(9676),k=function(){var e=(0,z.pm)(),n=(0,S.wf)(),r=(0,b.Z)(n,1)[0],t=(0,S.wY)().data;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.xu,{maxW:"450px",w:"100%",mx:"auto",children:(0,g.jsx)("form",{onSubmit:function(n){n.preventDefault();var i=n.target,s=n.target.elements.name.value,o=n.target.elements.number.value;if(t.find((function(e){return e.name.toLowerCase()===s.toLowerCase()})))return e({description:"".concat(s," is already in contacts"),isClosable:!0,status:"error"});r({name:s,number:o}),e({description:"".concat(s," has been added to the contacts list"),isClosable:!0,status:"success"}),i.reset()},children:(0,g.jsxs)(Z.NI,{display:"flex",flexDirection:"column",gap:"20px",isRequired:!0,children:[(0,g.jsxs)(w.BZ,{size:"lg",children:[(0,g.jsx)(w.Z8,{pointerEvents:"none",children:(0,g.jsx)(I.JO,{color:"purple.600",boxSize:"6",as:y.sdR})}),(0,g.jsx)(w.II,{name:"name",placeholder:"Name",_placeholder:{opacity:.6,color:"purple.800"},focusBorderColor:"purple.600",type:"text"})]}),(0,g.jsxs)(w.BZ,{size:"lg",children:[(0,g.jsx)(w.Z8,{pointerEvents:"none",children:(0,g.jsx)(C.qW,{color:"purple.600"})}),(0,g.jsx)(w.II,{type:"tel",name:"number",_placeholder:{opacity:.6,color:"purple.800"},focusBorderColor:"purple.600",placeholder:"Phone number"})]}),(0,g.jsx)(o.zx,{colorScheme:"purple",size:"md",mt:"20px",type:"submit",children:"Add"})]})})})})},F=(r(6641),r(3635)),L=function(e){var n=e.contact,r=void 0===n?[]:n,t=(0,S.Nt)(),i=(0,b.Z)(t,2),c=i[0],a=i[1].isLoading,l=(0,z.pm)(),u=r.id,x=r.name,d=r.number;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(F.Zb,{borderRadius:"10px",width:"100%",children:(0,g.jsx)(F.eW,{children:(0,g.jsxs)(s.kC,{spacing:"4",children:[(0,g.jsxs)(s.kC,{flex:"1",gap:"5",alignItems:"center",flexWrap:"wrap",children:[(0,g.jsx)(s.xu,{bg:"purple.600",width:"50px",height:"50px",borderRadius:"50%",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"22px",children:x.charAt(0)}),(0,g.jsxs)(s.xu,{display:"flex",gap:"10px",flexDirection:"column",children:[(0,g.jsx)(s.X6,{size:"sm",children:x}),(0,g.jsx)(s.xv,{children:d})]})]}),(0,g.jsxs)(s.xu,{display:"flex",gap:"10px",flexDirection:"column",children:[(0,g.jsx)(o.hU,{onClick:function(){return c(u),l({description:"".concat(x," has been deleted!"),isClosable:!0,status:"success"})},variant:"outline",isLoading:!!a,colorScheme:"purple","aria-label":"Delete contact",size:"md",fontSize:"20px",icon:(0,g.jsx)(y.F1H,{})}),(0,g.jsx)(B,{contact:r})]})]})})})})},_=r(1197),V=r(1490),B=function(e){var n=e.contact,r=void 0===n?{}:n,t=(0,z.pm)(),i=(0,_.qY)(),s=i.isOpen,c=i.onOpen,a=i.onClose,l=(0,S.mG)(),u=(0,b.Z)(l,2),x=u[0],d=u[1].isLoading;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.hU,{onClick:c,variant:"outline",isLoading:!!d,colorScheme:"purple","aria-label":"Edit contact",size:"md",fontSize:"20px",icon:(0,g.jsx)(y.U$P,{})}),(0,g.jsxs)(V.u_,{onClose:a,isOpen:s,isCentered:!0,children:[(0,g.jsx)(V.ZA,{}),(0,g.jsxs)(V.hz,{py:"20px",children:[(0,g.jsx)(V.xB,{children:"Edit contacts"}),(0,g.jsx)(V.fe,{children:(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.name.value,i=e.target.number.value;if(""!==n&&""!==i){var s={name:n,number:i};x({contactId:r.id,patchedContacts:s}),a(),t({description:"Contact ".concat(n," updated successfully"),isClosable:!0,status:"success"})}},children:[(0,g.jsx)(Z.NI,{children:(0,g.jsxs)(w.BZ,{size:"lg",children:[(0,g.jsx)(w.Z8,{pointerEvents:"none",children:(0,g.jsx)(I.JO,{color:"purple.600",boxSize:"6",as:y.sdR})}),(0,g.jsx)(w.II,{type:"text",name:"name",id:"contact_email",defaultValue:r.name,placeholder:"Name",_placeholder:{opacity:.6,color:"purple.800"},focusBorderColor:"purple.600"})]})}),(0,g.jsx)(Z.NI,{my:4,children:(0,g.jsxs)(w.BZ,{size:"lg",children:[(0,g.jsx)(w.Z8,{pointerEvents:"none",children:(0,g.jsx)(C.qW,{color:"purple.600"})}),(0,g.jsx)(w.II,{type:"tel",name:"number",id:"contact_email",defaultValue:r.number,_placeholder:{opacity:.6,color:"purple.800"},focusBorderColor:"purple.600",placeholder:"Phone number"})]})}),(0,g.jsx)(o.zx,{mt:4,type:"submit","aria-label":"Save contacts",colorScheme:"purple",size:"md",width:"100%",onClick:a,children:"Save"})]})})]})]})]})},E=(r(2190),function(){return!(0,x.GR)().isLoading&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.xu,{as:"footer",maxWidth:"1200px",width:"100%",mx:"auto",px:"15px",height:"60px",display:"flex",gap:"20px",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(s.iz,{maxW:"80%"}),(0,g.jsx)(s.xv,{children:"\xa9 2022 | Petlovanyi A."})]})})}),N=r(6852),U=r(4165),W=r(5861),O=r(1498),R=r(7817),D=r(2157),G=r.p+"static/media/userAvatar.c0307ea68a6119f96b35.jpg",A=function(){var e=(0,z.pm)(),n=(0,l.s0)(),r=(0,a.I0)(),t=(0,a.v9)(d.Z.getUserName),i=(0,a.v9)(d.Z.getUserToken),c=(0,a.v9)(d.Z.getUserEmail),u=(0,x.d3)(),h=(0,b.Z)(u,1)[0],m=function(){var s=(0,W.Z)((0,U.Z)().mark((function s(){var o;return(0,U.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,h(i);case 2:o=s.sent,n("/"),r((0,p.ni)(o)),e({description:"Goodbye, ".concat(t),isClosable:!0,status:"success",duration:2e3});case 6:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(s.Eq,{children:[(0,g.jsx)(O.u,{label:c,colorScheme:"purple","aria-label":"user email",closeDelay:500,hasArrow:!0,arrowSize:15,children:(0,g.jsxs)(R.Vp,{display:"flex",gap:"10px",size:"lg",colorScheme:"purple",borderRadius:"full",children:[(0,g.jsx)(D.qE,{size:"sm",src:G,children:(0,g.jsx)(D.MX,{boxSize:"1.25em",bg:"green.500"})}),(0,g.jsx)(R.Sn,{fontWeight:"600",children:t})]})}),(0,g.jsx)(s.M5,{height:"auto",children:(0,g.jsx)(s.iz,{mx:"15px",orientation:"vertical",size:"lg"})}),(0,g.jsx)(o.zx,{onClick:m,"aria-label":"Logout",colorScheme:"purple",size:"md",children:"Logout"})]})})},q=r(8342),P=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(q.aG,{display:"flex",gap:"15px",alignItems:"center",children:[(0,g.jsx)(q.gN,{children:(0,g.jsx)(f,{as:u.OL,to:"/contacts",children:"Contacts"})}),(0,g.jsx)(q.gN,{children:(0,g.jsx)(f,{as:u.OL,to:"/add",children:"Add contacts"})})]})})}},969:function(e,n,r){r.r(n);var t=r(9712),i=r(6641),s=r(2190),o=r(6852),c=r(5048),a=r(9676),l=r(8805),u=r(3329);n.default=function(){var e=(0,a.wY)(),n=e.data,r=e.isLoading,x=(0,c.v9)(l.Z.getFilterValue);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.w,{}),(0,u.jsx)(t.iz,{mb:"20px",mx:"auto",w:"70%"}),r&&(0,u.jsxs)(t.MI,{spacing:4,templateColumns:"repeat(auto-fill, minmax(300px, 1fr))",children:[(0,u.jsx)(o.V,{}),(0,u.jsx)(o.V,{}),(0,u.jsx)(o.V,{}),(0,u.jsx)(o.V,{})]}),!n&&!r&&(0,u.jsx)(u.Fragment,{children:"some text"}),n&&(0,u.jsx)(i.C,{contacts:function(){var e=x.toLowerCase();if(n)return Object.values(n).filter((function(n){return n.name.toLowerCase().includes(e)}))}()})]})}},8805:function(e,n){var r={getFilterValue:function(e){return e.filter}};n.Z=r}}]);
//# sourceMappingURL=537.98757222.chunk.js.map